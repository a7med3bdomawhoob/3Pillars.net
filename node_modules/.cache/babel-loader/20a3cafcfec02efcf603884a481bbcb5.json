{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\namaa\\\\Desktop\\\\ahmed abdo_addressbook\\\\Front\\\\src\\\\Components\\\\Books\\\\Books.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport \"./Books.module.css\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserForm = () => {\n  _s();\n\n  const [formData, setFormData] = useState({\n    FullName: \"\",\n    JobId: \"\",\n    DepartmentId: \"\",\n    MobileNumber: \"\",\n    DateOfBirth: \"\",\n    Address: \"\",\n    Email: \"\",\n    Password: \"\",\n    age: \"\",\n    PhotoUrl: \"\",\n    Image: null\n  });\n  const [departments, setDepartments] = useState([]);\n  const [jobs, setJobs] = useState([]);\n  const [books, setBooks] = useState([]);\n  const [editMode, setEditMode] = useState(false);\n  const [editId, setEditId] = useState(null);\n  const [searchQuery, setSearchQuery] = useState(\"\"); // State to store input value\n\n  const [searsh, SetsearshData] = useState(null);\n  useEffect(() => {\n    // Fetch departments, jobs, and books\n    fetch(\"https://localhost:7164/api/Department\").then(response => response.json()).then(data => setDepartments(data)).catch(error => console.error(\"Error fetching departments:\", error));\n    fetch(\"https://localhost:7164/api/Job\").then(response => response.json()).then(data => setJobs(data)).catch(error => console.error(\"Error fetching jobs:\", error));\n    fetch(\"https://localhost:7164/api/Book\").then(response => response.json()).then(data => setBooks(data)).catch(error => console.error(\"Error fetching books:\", error));\n    console.log(books);\n    console.log(books);\n  }, []);\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({ ...formData,\n      [name]: value\n    });\n  };\n\n  const handleFileChange = e => {\n    setFormData({ ...formData,\n      Image: e.target.files[0]\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log(formData);\n    const form = new FormData();\n\n    for (const key in formData) {\n      if (key === \"Image\" && formData[key]) {\n        form.append(\"Image\", formData[key]);\n      } else {\n        form.append(key, formData[key]);\n      }\n    }\n\n    console.log(form);\n    console.log(formData);\n    const url = editMode ? `https://localhost:7164/api/Book/${editId}` : \"https://localhost:7164/api/Book/CreateBook\";\n    fetch(url, {\n      method: editMode ? \"PUT\" : \"POST\",\n      body: form\n    }).then(response => {\n      if (!response.ok) {\n        console.log(\"ddffffffff\");\n        console.log(formData);\n        console.log(form);\n        throw new Error(\"Network response was not ok\");\n      }\n\n      console.log(\"dddddddddddddddddd\"); //////// location.reload();\n\n      return response.json(); //ahmed abdo \n    }).then(data => {\n      if (editMode) {\n        setBooks(prevBooks => prevBooks.map(book => book.id === editId ? data : book));\n        setEditMode(false);\n        setEditId(null);\n      } else {\n        setBooks(prevBooks => [...prevBooks, data]);\n      }\n\n      setFormData({\n        FullName: \"\",\n        JobId: \"\",\n        DepartmentId: \"\",\n        MobileNumber: \"\",\n        DateOfBirth: \"\",\n        Address: \"\",\n        Email: \"\",\n        Password: \"\",\n        age: \"\",\n        PhotoUrl: \"\",\n        Image: null\n      });\n    }).catch(error => console.error(\"Error:\", error));\n    fetch(\"https://localhost:7164/api/Book\").then(response => response.json()).then(data => setBooks(data)).catch(error => console.error(\"Error fetching books:\", error));\n    console.log(books);\n  };\n\n  const handleEdit = book => {\n    setFormData({\n      FullName: book.fullName,\n      JobId: book.jobId,\n      DepartmentId: book.departmentId,\n      MobileNumber: book.mobileNumber,\n      DateOfBirth: book.dateOfBirth,\n      Address: book.address,\n      Email: book.email,\n      Password: book.password,\n      age: book.age,\n      PhotoUrl: book.photoUrl,\n      Image: null // File uploads can't be pre-filled\n\n    });\n    setEditId(book.id);\n    setEditMode(true);\n  };\n\n  const handleDelete = id => {\n    if (window.confirm(\"Are you sure you want to delete this record?\")) {\n      fetch(`https://localhost:7164/api/Book?Id=${id}`, {\n        method: \"DELETE\"\n      }).then(response => {\n        if (!response.ok) {\n          throw new Error(\"Failed to delete\");\n        }\n\n        setBooks(prevBooks => prevBooks.filter(book => book.id !== id));\n        fetch(\"https://localhost:7164/api/Book\").then(response => response.json()).then(data => setBooks(data)).catch(error => console.error(\"Error fetching books:\", error));\n      }).catch(error => console.error(\"Error deleting record:\", error));\n    }\n  };\n\n  const Search = async () => {\n    try {\n      // Fetch filtered books based on the search query\n      const res = await axios.get(`https://localhost:7164/api/Book/SearchForBooks?bookName=${searchQuery}`); // Check if the response has data\n\n      if (res.data) {\n        console.log(res.data);\n        setBooks(res.data); // Store filtered books in books state\n      }\n    } catch (error) {\n      console.error(\"Error fetching filtered books:\", error);\n    }\n  };\n\n  const handleInputChange = async e => {\n    console.log(e.target.value);\n    setSearchQuery(e.target.value); // Update state with input value\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"search\",\n        children: \"Search By Book Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"search\",\n        value: searchQuery,\n        type: \"text\",\n        onChange: handleInputChange // Update state on input change\n\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: Search,\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Full Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"FullName\",\n          value: formData.FullName,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Job:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"JobId\",\n          value: formData.JobId,\n          onChange: handleChange,\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select Job\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), jobs.map(job => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: job.id,\n            children: job.jobName\n          }, job.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Department:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"DepartmentId\",\n          value: formData.DepartmentId,\n          onChange: handleChange,\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select Department\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), departments.map(department => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: department.id,\n            children: department.departmentName\n          }, department.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Mobile Number:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"MobileNumber\",\n          value: formData.MobileNumber,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Date of Birth:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"DateOfBirth\",\n          value: formData.dateOfBirth,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Address:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"Address\",\n          value: formData.Address,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"Email\",\n          value: formData.Email,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"Password\",\n          value: formData.Password,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Age:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"age\",\n          value: formData.age,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Image:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"text-success\",\n          type: \"file\",\n          name: \"Image\",\n          onChange: handleFileChange,\n          required: !editMode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: editMode ? \"Update\" : \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Full Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Job\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Department\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Mobile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"DOB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Age\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: books.map(book => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: book.fullName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: book.job[\"jobName\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: book.department[\"departmentName\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: book.mobileNumber\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: book.dateOfBirth\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: book.address\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: book.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: book.age\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleEdit(book),\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDelete(book.id),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 15\n          }, this)]\n        }, book.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserForm, \"CJXISX752OHAUzt+n9J/0mNM4xU=\");\n\n_c = UserForm;\nexport default UserForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserForm\");","map":{"version":3,"sources":["C:/Users/namaa/Desktop/ahmed abdo_addressbook/Front/src/Components/Books/Books.jsx"],"names":["React","useState","useEffect","axios","UserForm","formData","setFormData","FullName","JobId","DepartmentId","MobileNumber","DateOfBirth","Address","Email","Password","age","PhotoUrl","Image","departments","setDepartments","jobs","setJobs","books","setBooks","editMode","setEditMode","editId","setEditId","searchQuery","setSearchQuery","searsh","SetsearshData","fetch","then","response","json","data","catch","error","console","log","handleChange","e","name","value","target","handleFileChange","files","handleSubmit","preventDefault","form","FormData","key","append","url","method","body","ok","Error","prevBooks","map","book","id","handleEdit","fullName","jobId","departmentId","mobileNumber","dateOfBirth","address","email","password","photoUrl","handleDelete","window","confirm","filter","Search","res","get","handleInputChange","job","jobName","department","departmentName"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./Books.module.css\";\nimport axios from \"axios\";\nconst UserForm = () => {\n  const [formData, setFormData] = useState({\n    FullName: \"\",\n    JobId: \"\",\n    DepartmentId: \"\",\n    MobileNumber: \"\",\n    DateOfBirth: \"\",\n    Address: \"\",\n    Email: \"\",\n    Password: \"\",\n    age: \"\",\n    PhotoUrl: \"\",\n    Image: null,\n  });\n  const [departments, setDepartments] = useState([]);\n  const [jobs, setJobs] = useState([]);\n  const [books, setBooks] = useState([]);\n  const [editMode, setEditMode] = useState(false);\n  const [editId, setEditId] = useState(null);\n  const [searchQuery, setSearchQuery] = useState(\"\"); // State to store input value\n  const [searsh, SetsearshData] = useState(null);\n  useEffect(() => {\n    // Fetch departments, jobs, and books\n    fetch(\"https://localhost:7164/api/Department\")\n      .then((response) => response.json())\n      .then((data) => setDepartments(data))\n      .catch((error) => console.error(\"Error fetching departments:\", error));\n\n    fetch(\"https://localhost:7164/api/Job\")\n      .then((response) => response.json())\n      .then((data) => setJobs(data))\n      .catch((error) => console.error(\"Error fetching jobs:\", error));\n\n    fetch(\"https://localhost:7164/api/Book\")\n      .then((response) => response.json())\n      .then((data) => setBooks(data))\n      .catch((error) => console.error(\"Error fetching books:\", error));\n    console.log(books);\n    console.log(books);\n  }, []);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({ ...formData, [name]: value });\n  };\n\n  const handleFileChange = (e) => {\n    setFormData({ ...formData, Image: e.target.files[0] });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    console.log(formData);\n    const form = new FormData();\n    for (const key in formData) {\n      if (key === \"Image\" && formData[key]) {\n        form.append(\"Image\", formData[key]);\n      } else {\n        form.append(key, formData[key]);\n      }\n    }\n    console.log(form)\n    console.log(formData)\n    const url = editMode\n      ? `https://localhost:7164/api/Book/${editId}`\n      : \"https://localhost:7164/api/Book/CreateBook\";\n\n    fetch(url, {\n      method: editMode ? \"PUT\" : \"POST\",\n      body: form,\n    })\n      .then((response) => {\n        if (!response.ok) {\n          console.log(\"ddffffffff\");\n          console.log(formData);\n          console.log(form);\n          throw new Error(\"Network response was not ok\");\n\n        }\n        console.log(\"dddddddddddddddddd\");\n        //////// location.reload();\n        return response.json();\n        //ahmed abdo \n      })\n      .then((data) => {\n        if (editMode) {\n          setBooks((prevBooks) =>\n            prevBooks.map((book) => (book.id === editId ? data : book))\n          );\n          setEditMode(false);\n          setEditId(null);\n        } else {\n          setBooks((prevBooks) => [...prevBooks, data]);\n        }\n        setFormData({\n          FullName: \"\",\n          JobId: \"\",\n          DepartmentId: \"\",\n          MobileNumber: \"\",\n          DateOfBirth: \"\",\n          Address: \"\",\n          Email: \"\",\n          Password: \"\",\n          age: \"\",\n          PhotoUrl: \"\",\n          Image: null,\n        });\n\n      })\n      .catch((error) => console.error(\"Error:\", error));\n\n\n    fetch(\"https://localhost:7164/api/Book\")\n      .then((response) => response.json())\n      .then((data) => setBooks(data))\n      .catch((error) => console.error(\"Error fetching books:\", error));\n    console.log(books);\n\n\n  };\n\n  const handleEdit = (book) => {\n    setFormData({\n      FullName: book.fullName,\n      JobId: book.jobId,\n      DepartmentId: book.departmentId,\n      MobileNumber: book.mobileNumber,\n      DateOfBirth: book.dateOfBirth,\n      Address: book.address,\n      Email: book.email,\n      Password: book.password,\n      age: book.age,\n      PhotoUrl: book.photoUrl,\n      Image: null, // File uploads can't be pre-filled\n    });\n    setEditId(book.id);\n    setEditMode(true);\n  };\n\n  const handleDelete = (id) => {\n    if (window.confirm(\"Are you sure you want to delete this record?\")) {\n      fetch(`https://localhost:7164/api/Book?Id=${id}`, {\n        method: \"DELETE\",\n      })\n        .then((response) => {\n          if (!response.ok) {\n            throw new Error(\"Failed to delete\");\n          }\n          setBooks((prevBooks) => prevBooks.filter((book) => book.id !== id));\n          fetch(\"https://localhost:7164/api/Book\")\n            .then((response) => response.json())\n            .then((data) => setBooks(data))\n            .catch((error) => console.error(\"Error fetching books:\", error));\n\n        })\n        .catch((error) => console.error(\"Error deleting record:\", error));\n    }\n  };\n\n\n  const Search = async () => {\n    try {\n      // Fetch filtered books based on the search query\n      const res = await axios.get(`https://localhost:7164/api/Book/SearchForBooks?bookName=${searchQuery}`);\n\n      // Check if the response has data\n      if (res.data) {\n        console.log(res.data);\n        setBooks(res.data); // Store filtered books in books state\n      }\n    } catch (error) {\n      console.error(\"Error fetching filtered books:\", error);\n    }\n  };\n\n\n  const handleInputChange = async (e) => {\n    console.log(e.target.value);\n\n    setSearchQuery(e.target.value); // Update state with input value\n\n  };\n\n  return (\n    <div>\n      <div>\n        <label htmlFor=\"search\">Search By Book Name</label>\n        <input\n          id=\"search\"\n          value={searchQuery}\n          type=\"text\"\n          onChange={handleInputChange} // Update state on input change\n        />\n        <button onClick={Search}>Search</button>\n      </div>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label>Full Name:</label>\n          <input\n            type=\"text\"\n            name=\"FullName\"\n            value={formData.FullName}\n            onChange={handleChange}\n            required\n          />\n        </div>\n        <div>\n          <label>Job:</label>\n          <select\n            name=\"JobId\"\n            value={formData.JobId}\n            onChange={handleChange}\n            required\n          >\n            <option value=\"\">Select Job</option>\n            {jobs.map((job) => (\n              <option key={job.id} value={job.id}>\n                {job.jobName}\n              </option>\n            ))}\n          </select>\n        </div>\n        <div>\n          <label>Department:</label>\n          <select\n            name=\"DepartmentId\"\n            value={formData.DepartmentId}\n            onChange={handleChange}\n            required\n          >\n            <option value=\"\">Select Department</option>\n            {departments.map((department) => (\n              <option key={department.id} value={department.id}>\n                {department.departmentName}\n              </option>\n            ))}\n          </select>\n        </div>\n        <div>\n          <label>Mobile Number:</label>\n          <input\n            type=\"text\"\n            name=\"MobileNumber\"\n            value={formData.MobileNumber}\n            onChange={handleChange}\n            required\n          />\n        </div>\n        <div>\n          <label>Date of Birth:</label>\n          <input\n            type=\"date\"\n            name=\"DateOfBirth\"\n            value={formData.dateOfBirth}\n            onChange={handleChange}\n            required\n          />\n        </div>\n        <div>\n          <label>Address:</label>\n          <textarea\n            name=\"Address\"\n            value={formData.Address}\n            onChange={handleChange}\n            required\n          ></textarea>\n        </div>\n        <div>\n          <label>Email:</label>\n          <input\n            type=\"email\"\n            name=\"Email\"\n            value={formData.Email}\n            onChange={handleChange}\n            required\n          />\n        </div>\n        <div>\n          <label>Password:</label>\n          <input\n            type=\"password\"\n            name=\"Password\"\n            value={formData.Password}\n            onChange={handleChange}\n            required\n          />\n        </div>\n        <div>\n          <label>Age:</label>\n          <input\n            type=\"number\"\n            name=\"age\"\n            value={formData.age}\n            onChange={handleChange}\n            required\n          />\n        </div>\n        <div>\n          <label>Image:</label>\n          <input className=\"text-success\"\n            type=\"file\"\n            name=\"Image\"\n            onChange={handleFileChange}\n            required={!editMode}\n          />\n        </div>\n        <button type=\"submit\">{editMode ? \"Update\" : \"Submit\"}</button>\n      </form>\n      {/* Grid/Table */}\n      <table>\n        <thead>\n          <tr>\n            <th>Full Name</th>\n            <th>Job</th>\n            <th>Department</th>\n            <th>Mobile</th>\n            <th>DOB</th>\n            <th>Address</th>\n            <th>Email</th>\n            <th>Age</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {books.map((book) => (\n            <tr key={book.id}>\n              <td>{book.fullName}</td>\n              <td>{book.job[\"jobName\"]}</td>\n              <td>{book.department[\"departmentName\"]}</td>\n              <td>{book.mobileNumber}</td>\n              <td>{book.dateOfBirth}</td>\n              <td>{book.address}</td>\n              <td>{book.email}</td>\n              <td>{book.age}</td>\n              <td>\n                <button onClick={() => handleEdit(book)}>Edit</button>\n                <button onClick={() => handleDelete(book.id)}>Delete</button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default UserForm;\n"]},"metadata":{},"sourceType":"module"}